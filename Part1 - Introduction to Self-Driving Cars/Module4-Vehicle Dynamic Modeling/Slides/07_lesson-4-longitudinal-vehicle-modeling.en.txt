In this lesson, we will go over the concept of the vehicle longitudinal dynamics, and the power train component models needed to generate torques on the tires. By the end of this video, you'll be able to: define the balance of dynamic forces acting on a vehicle in the longitudinal direction, describe typical power train component models for an internal combustion engine vehicle, and connect the typical power train component models to form a full vehicle model for longitudinal motion. These models will help us build longitudinal controllers in the next module in this course. So, let's get started. The longitudinal vehicle dynamic model is simply based on the dynamics of the vehicle that generate forward motion. Here is a typical vehicle longitudinal motion on an inclined road. The forces acting on the vehicle or the front and rear tire forces Fxf and Fxr. The aerodynamic drag force F aero and the rolling resistance Rxf and Rxr. There's also the force due to gravity mg sine alpha where alpha is the local road slope. Based on Newton's second law, the longitudinal tire forces of the front and rear tyres Fxf and Fxr, which come from the vehicle power train must overcome the resistance forces such as the aerodynamic force F aero, the gravitational force mg sine alpha, and the rolling resistance of the front and rear tires, Rxf and Rxr. The imbalance between these forces defines the acceleration of the vehicle in the longitudinal direction denoted by X double dot. The longitudinal dynamics equations can further be simplified by grouping the front and rear tire forces as Fx and the front and rear rolling resistance forces as Rx. Further, we can assume moderate road inclinations, which means that the small angle approximation can be applied. So, the sine of alpha is approximately equal to alpha. Our basic dynamic model for the longitudinal motion of a car is then as follows: Mx double dot is equal to Fx minus F aero, minus Rx, and minus mg alpha. Here MX double dot is the inertial term that defines the vehicles longitudinal acceleration. Fx is the traction force generated by the power train, and F aero, Rx, and mg alpha make up the total resistance forces acting on the vehicle, which we'll refer to as F load. Note that we still need to develop models for each of the forces in this equation and define how they connect to the throttle and break inputs that our autonomous system will apply. Through the rest of this video, we will develop these models, and we'll go into more depth in subsequent videos on specific aspects such as, power train, break and tyre force modelling. Let's now build some simple models for the resistance forces on the car. A vehicles longitudinal motion is resisted by aerodynamic drag rolling resistance and the force due to gravity. We've already built a model for the effects of gravity, so let's move on to aerodynamics. The aerodynamic drag can typically be modeled as dependent on air density, frontal area of the vehicle, the vehicles coefficient of friction, and the current speed of the vehicle. Given a fixed vehicle shape and standard atmospheric pressure, we can define a simple lumped coefficient of the aerodynamic drag C alpha, and multiply it by the velocity squared to get the drag force. For rolling resistance, we have a similar model which can depend on the normal force, tire pressure and characteristics, and vehicle speed. If we again assume nominal operating conditions and drop the second-order terms for simplicity, we can arrive at a linear rolling resistance model, where Cr1 is our linear rolling resistance coefficient. In both cases, these are basic approximate models that are a good starting point for controller design. In practice, the fidelity of the model used depends on the accuracy required of the controller or the simulation environment. Now that we have models for the resistance forces acting on the vehicle, let's look more closely at the dry forces created by the vehicles power train. The force generated to conquer the resistance forces comes from the power train, and can be modeled as being generated by a series of components. The power generated due to the combustion in gasoline, or diesel engines, or electrochemical reactions in batteries for electric vehicles or hybrid vehicles, flow through the drive line and ultimately provide a torque to the wheels. The drive line refers to the sequence of components between the engine and the wheels, and typically includes the torque converter or clutch, the transmission or gearbox, and finally the differential. The breaks are also included in this figure, and can provide a resistance torque on the wheel hub directly. Because of the direct connection between wheel and engine when in gear, it is possible to model the relationship between the wheel speed and the engine speed as a kinematic constraint. The wheel rotation speed omega w varies according to the torque converters turbine speed omega t, through several gear ratios including the torque converter, transmission, and differential. This combined gear ratio is denoted GR and changes depending on the state of the power train components. So, what gear the transmission is in, for example? The engine speed is equal to the turbine speed and can be used interchangeably. The vehicle forward velocity is also proportional to the wheel angular speed times the tire effective radius, which we will mostly model as a fixed tire radius. It can however be modified for higher fidelity modeling based on expected deformation of the tire due to forces and moments on the car. Assuming the effective tire radius is known, we can write that the longitudinal vehicle speed x dot is equal to the tyre radius R effective times the wheel speed omega w. So, if we can model the dynamics of the engine speed, we can then relate it directly to the vehicle speed through these kinematic constraints. This expression for velocity can be differentiated to give longitudinal acceleration in terms of the engine rotational acceleration. Now, let's go through the dynamic equations of each of the power train components to build a dynamic model of the overall power train. The wheel is the intersection between the torques coming from the power train side, and the torques acting from the external resistance forces. Therefore, we can present the wheel dynamics by the following first-order differential equation: to calculate the wheel angular speed omega w. Here T wheel is the wheel torque generated by the power train. We can solve for the wheel torque using this differential equation, if the tyre force Fx is known, which can be calculated from the vehicle longitudinal dynamics derived earlier. The wheel torque T wheel is actually the combination of the brake torque and the output torque of the transmission or gearbox, as is visible on the left. We'll look at break modelling in a later video, and we'll focus on the power train for this video. The torque applied to the transmission is referred to as the turbine torque T sub t, and comes from the torque converter which couples the engine to the transmission. Recall the turbine angular speed omega T of the torque converter is related to the wheel angular speed by the gear ratio GR. We can therefore define a similar ordinary differential equation for the turbine angular speed as our transmission dynamic model. Also, we can substitute in our expression for T wheel from the wheel dynamics model. Next up is the torque converter. In practice, that torque converter has complex dynamics because it has multiple and pillars and fluid going through the impeller which allows for the coupling and decoupling of the engine. When coupled, we can assume the turbine angular speed is almost the same as the engine speed. Therefore, we replace the turbine speed with the engine angular speed in the transmission model to form a dynamic model that includes the torque converter. Finally, we can define the full power train model by including the engine dynamics. The engine inertia term is equal to the torque produced by the engine from the combustion process minus the turbine torque from the torque converter, which still includes a dependence on the tire force Fx. If we return to the original longitudinal vehicle model and solve for the tire force, we see a further dependence on the engine rotational acceleration, which can be grouped with the terms from the engine, transmission, and wheel inertias. We now form the complete power train model and define an effective power train inertia as the sum of all the individual component inertias, which we'll call J sub e. The power train model simplifies down to the following equation, which balances the engine torque T engine with the total load torque T load to drive the engine acceleration and thereby the vehicle longitudinal acceleration. This final equation achieves what we set out to do, as it shows the dynamics of the whole power train system all the way from the engine to the external resistance forces acting on the vehicle. We do still need to relate the engine torque to the accelerator pedal position, and the brake torque to the brake pedal position, which we'll cover in the video on Actuator Modelling. To summarize in this video, we defined a compact models for the vehicle longitudinal dynamics and resistance forces. We described typical power train components and derived dynamic models for them, and we combine these subsystems enforce models into a single unified longitudinal dynamic model which is suitable for speed control development. In the next video, we will investigate the details of lateral dynamics in modelling to aid in the development of steering controllers. See you then.